<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ztman.business.inspection.mapper.SysUserActivateMapper">

	<!-- 通用返回对象 -->
    <resultMap type="com.ztman.business.inspection.client.entity.SysUserActivate" id="sysUserActivateResult">
                        <result property="tenantId" column="tenant_id"/> <!--  -->
                        <result property="userId" column="user_id"/> <!--  -->
                        <result property="type" column="type"/> <!--  -->
            </resultMap>


    <sql id="selectSysUserActivateVo">
        select tenant_id, user_id, type from sys_user_activate
    </sql>
    <!-- 查询对象List -->
    <select id="selectSysUserActivateList" parameterType="com.ztman.business.inspection.client.entity.SysUserActivate" resultMap="sysUserActivateResult">
        <include refid="selectSysUserActivateVo"/>
        <where>
            <include refid="equal"/>
        </where>
    </select>

    <!-- 模糊查询对象List -->
    <select id="selectSysUserActivateListByLike" parameterType="com.ztman.business.inspection.client.entity.SysUserActivate" resultMap="sysUserActivateResult">
        <include refid="selectSysUserActivateVo"/>
        <where>
            <include refid="like"/>
        </where>
    </select>

    <!-- 根据主键查询对象 -->
    <select id="selectSysUserActivateById" parameterType="String" resultMap="sysUserActivateResult">
        <include refid="selectSysUserActivateVo"/>
        where tenant_id = #{tenantId}
    </select>


    <update id="updateSysUserActivate" parameterType="com.ztman.business.inspection.client.entity.SysUserActivate">
        update sys_user_activate
        <trim prefix="SET" suffixOverrides=",">
                                                                            <if test="userId != null  and userId != ''  ">user_id = #{userId},</if>
                                                                <if test="type != null  and type != ''  ">type = #{type},</if>
                                    </trim>
        where tenant_id = #{tenantId}
    </update>

    <delete id="deleteSysUserActivateById" parameterType="String">
        delete from sys_user_activate where tenant_id = #{tenantId}
    </delete>

    <delete id="deleteSysUserActivateByIds" parameterType="String">
        delete from sys_user_activate where tenant_id in
        <foreach item="tenantId" collection="array" open="(" separator="," close=")">
            #{tenantId}
        </foreach>
    </delete>



    <!-- 新增对象 -->
    <insert id="insertSysUserActivate" parameterType="com.ztman.business.inspection.client.entity.SysUserActivate">
        insert into sys_user_activate
        <trim prefix="(" suffix=")" suffixOverrides=",">
                                                <if test="tenantId != null  and tenantId != ''  ">tenant_id,</if>
                                                                <if test="userId != null  and userId != ''  ">user_id,</if>
                                                                <if test="type != null  and type != ''  ">type,</if>
                                    </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
                                                <if test="tenantId != null  and tenantId != ''  ">#{tenantId},</if>
                                                                <if test="userId != null  and userId != ''  ">#{userId},</if>
                                                                <if test="type != null  and type != ''  ">#{type},</if>
                                    </trim>
    </insert>



    <!-- 表字段 -->
    <sql id="column">
                    tenant_id,  <!--  -->
                    user_id,  <!--  -->
                    type  <!--  -->
            </sql>

    <!-- Where精确匹配字段 -->
    <sql id="equal">
                                            <if test="tenantId != null and tenantId != ''">
                        AND tenant_id = #{tenantId}  <!--  -->
        </if>
                                            <if test="userId != null and userId != ''">
                        AND user_id = #{userId}  <!--  -->
        </if>
                                            <if test="type != null and type != ''">
                        AND type = #{type}  <!--  -->
        </if>
            </sql>

    <!-- Where模糊匹配字段 -->
    <sql id="like">
                                     <if test="tenantId != null and tenantId != ''">
                    AND tenant_id like '%${tenantId}%'  <!--  -->
         </if>
                                                 <if test="userId != null and userId != ''">
                    AND user_id like '%${userId}%'  <!--  -->
         </if>
                                                 <if test="type != null and type != ''">
                    AND type like '%${type}%'  <!--  -->
         </if>
                        </sql>
</mapper>
