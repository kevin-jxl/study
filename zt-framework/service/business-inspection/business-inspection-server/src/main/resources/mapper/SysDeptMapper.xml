<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ztman.business.inspection.mapper.SysDeptMapper">

	<!-- 通用返回对象 -->
    <resultMap type="com.ztman.business.inspection.client.entity.SysDept" id="sysDeptResult">
                        <result property="deptId" column="dept_id"/> <!--  -->
                        <result property="name" column="name"/> <!-- 部门名称 -->
                        <result property="deptSimplify" column="dept_simplify"/> <!-- 组织简称 -->
                        <result property="deptLeader" column="dept_leader"/> <!-- 组织负责人 -->
                        <result property="deptType" column="dept_type"/> <!-- 组织类别 0：区域 1：公司  2：部门 -->
                        <result property="parentId" column="parent_id"/> <!--  -->
                        <result property="orderNum" column="order_num"/> <!-- 排序 -->
                        <result property="delFlag" column="del_flag"/> <!-- 0-删除，1-正常 -->
                        <result property="createTime" column="create_time"/> <!-- 创建时间 -->
                        <result property="updateTime" column="update_time"/> <!-- 修改时间 -->
                        <result property="createBy" column="create_by"/> <!-- 创建人 -->
                        <result property="updateBy" column="update_by"/> <!-- 修改人 -->
                        <result property="remark" column="remark"/> <!-- 备注 -->
                        <result property="adminRemark" column="admin_remark"/> <!-- 工程师备注 -->
            </resultMap>


    <sql id="selectSysDeptVo">
        select dept_id, name, dept_simplify, dept_leader, dept_type, parent_id, order_num, del_flag, create_time, update_time, create_by, update_by, remark, admin_remark from sys_dept
    </sql>
    <!-- 查询对象List -->
    <select id="selectSysDeptList" parameterType="com.ztman.business.inspection.client.entity.SysDept" resultMap="sysDeptResult">
        <include refid="selectSysDeptVo"/>
        <where>
            <include refid="equal"/>
        </where>
    </select>

    <!-- 模糊查询对象List -->
    <select id="selectSysDeptListByLike" parameterType="com.ztman.business.inspection.client.entity.SysDept" resultMap="sysDeptResult">
        <include refid="selectSysDeptVo"/>
        <where>
            <include refid="like"/>
        </where>
    </select>

    <!-- 根据主键查询对象 -->
    <select id="selectSysDeptById" parameterType="Integer" resultMap="sysDeptResult">
        <include refid="selectSysDeptVo"/>
        where dept_id = #{deptId}
    </select>


    <update id="updateSysDept" parameterType="com.ztman.business.inspection.client.entity.SysDept">
        update sys_dept
        <trim prefix="SET" suffixOverrides=",">
                                                                            <if test="name != null  and name != ''  ">name = #{name},</if>
                                                                <if test="deptSimplify != null  and deptSimplify != ''  ">dept_simplify = #{deptSimplify},</if>
                                                                <if test="deptLeader != null  and deptLeader != ''  ">dept_leader = #{deptLeader},</if>
                                                                <if test="deptType != null  and deptType != ''  ">dept_type = #{deptType},</if>
                                                                <if test="parentId != null  ">parent_id = #{parentId},</if>
                                                                <if test="orderNum != null  ">order_num = #{orderNum},</if>
                                                                <if test="delFlag != null  and delFlag != ''  ">del_flag = #{delFlag},</if>
                                                                <if test="createTime != null  ">create_time = #{createTime},</if>
                                                                <if test="updateTime != null  ">update_time = #{updateTime},</if>
                                                                <if test="createBy != null  and createBy != ''  ">create_by = #{createBy},</if>
                                                                <if test="updateBy != null  and updateBy != ''  ">update_by = #{updateBy},</if>
                                                                <if test="remark != null  and remark != ''  ">remark = #{remark},</if>
                                                                <if test="adminRemark != null  and adminRemark != ''  ">admin_remark = #{adminRemark},</if>
                                    </trim>
        where dept_id = #{deptId}
    </update>

    <delete id="deleteSysDeptById" parameterType="Integer">
        delete from sys_dept where dept_id = #{deptId}
    </delete>

    <delete id="deleteSysDeptByIds" parameterType="String">
        delete from sys_dept where dept_id in
        <foreach item="deptId" collection="array" open="(" separator="," close=")">
            #{deptId}
        </foreach>
    </delete>



    <!-- 新增对象 -->
    <insert id="insertSysDept" parameterType="com.ztman.business.inspection.client.entity.SysDept" useGeneratedKeys="true" keyProperty="deptId">
        insert into sys_dept
        <trim prefix="(" suffix=")" suffixOverrides=",">
                                                                            <if test="name != null  and name != ''  ">name,</if>
                                                                <if test="deptSimplify != null  and deptSimplify != ''  ">dept_simplify,</if>
                                                                <if test="deptLeader != null  and deptLeader != ''  ">dept_leader,</if>
                                                                <if test="deptType != null  and deptType != ''  ">dept_type,</if>
                                                                <if test="parentId != null  ">parent_id,</if>
                                                                <if test="orderNum != null  ">order_num,</if>
                                                                <if test="delFlag != null  and delFlag != ''  ">del_flag,</if>
                                                                <if test="createTime != null  ">create_time,</if>
                                                                <if test="updateTime != null  ">update_time,</if>
                                                                <if test="createBy != null  and createBy != ''  ">create_by,</if>
                                                                <if test="updateBy != null  and updateBy != ''  ">update_by,</if>
                                                                <if test="remark != null  and remark != ''  ">remark,</if>
                                                                <if test="adminRemark != null  and adminRemark != ''  ">admin_remark,</if>
                                    </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
                                                                            <if test="name != null  and name != ''  ">#{name},</if>
                                                                <if test="deptSimplify != null  and deptSimplify != ''  ">#{deptSimplify},</if>
                                                                <if test="deptLeader != null  and deptLeader != ''  ">#{deptLeader},</if>
                                                                <if test="deptType != null  and deptType != ''  ">#{deptType},</if>
                                                                <if test="parentId != null  ">#{parentId},</if>
                                                                <if test="orderNum != null  ">#{orderNum},</if>
                                                                <if test="delFlag != null  and delFlag != ''  ">#{delFlag},</if>
                                                                <if test="createTime != null  ">#{createTime},</if>
                                                                <if test="updateTime != null  ">#{updateTime},</if>
                                                                <if test="createBy != null  and createBy != ''  ">#{createBy},</if>
                                                                <if test="updateBy != null  and updateBy != ''  ">#{updateBy},</if>
                                                                <if test="remark != null  and remark != ''  ">#{remark},</if>
                                                                <if test="adminRemark != null  and adminRemark != ''  ">#{adminRemark},</if>
                                    </trim>
    </insert>



    <!-- 表字段 -->
    <sql id="column">
                    dept_id,  <!--  -->
                    name,  <!-- 部门名称 -->
                    dept_simplify,  <!-- 组织简称 -->
                    dept_leader,  <!-- 组织负责人 -->
                    dept_type,  <!-- 组织类别 0：区域 1：公司  2：部门 -->
                    parent_id,  <!--  -->
                    order_num,  <!-- 排序 -->
                    del_flag,  <!-- 0-删除，1-正常 -->
                    create_time,  <!-- 创建时间 -->
                    update_time,  <!-- 修改时间 -->
                    create_by,  <!-- 创建人 -->
                    update_by,  <!-- 修改人 -->
                    remark,  <!-- 备注 -->
                    admin_remark  <!-- 工程师备注 -->
            </sql>

    <!-- Where精确匹配字段 -->
    <sql id="equal">
                                            <if test="deptId != null ">
                        AND dept_id = #{deptId}  <!--  -->
        </if>
                                            <if test="name != null and name != ''">
                        AND name = #{name}  <!-- 部门名称 -->
        </if>
                                            <if test="deptSimplify != null and deptSimplify != ''">
                        AND dept_simplify = #{deptSimplify}  <!-- 组织简称 -->
        </if>
                                            <if test="deptLeader != null and deptLeader != ''">
                        AND dept_leader = #{deptLeader}  <!-- 组织负责人 -->
        </if>
                                            <if test="deptType != null and deptType != ''">
                        AND dept_type = #{deptType}  <!-- 组织类别 0：区域 1：公司  2：部门 -->
        </if>
                                            <if test="parentId != null ">
                        AND parent_id = #{parentId}  <!--  -->
        </if>
                                            <if test="orderNum != null ">
                        AND order_num = #{orderNum}  <!-- 排序 -->
        </if>
                                            <if test="delFlag != null and delFlag != ''">
                        AND del_flag = #{delFlag}  <!-- 0-删除，1-正常 -->
        </if>
                                            <if test="createTime != null ">
                        AND create_time = #{createTime}  <!-- 创建时间 -->
        </if>
                                            <if test="updateTime != null ">
                        AND update_time = #{updateTime}  <!-- 修改时间 -->
        </if>
                                            <if test="createBy != null and createBy != ''">
                        AND create_by = #{createBy}  <!-- 创建人 -->
        </if>
                                            <if test="updateBy != null and updateBy != ''">
                        AND update_by = #{updateBy}  <!-- 修改人 -->
        </if>
                                            <if test="remark != null and remark != ''">
                        AND remark = #{remark}  <!-- 备注 -->
        </if>
                                            <if test="adminRemark != null and adminRemark != ''">
                        AND admin_remark = #{adminRemark}  <!-- 工程师备注 -->
        </if>
            </sql>

    <!-- Where模糊匹配字段 -->
    <sql id="like">
                                                                 <if test="name != null and name != ''">
                    AND name like '%${name}%'  <!-- 部门名称 -->
         </if>
                                                 <if test="deptSimplify != null and deptSimplify != ''">
                    AND dept_simplify like '%${deptSimplify}%'  <!-- 组织简称 -->
         </if>
                                                 <if test="deptLeader != null and deptLeader != ''">
                    AND dept_leader like '%${deptLeader}%'  <!-- 组织负责人 -->
         </if>
                                                 <if test="deptType != null and deptType != ''">
                    AND dept_type like '%${deptType}%'  <!-- 组织类别 0：区域 1：公司  2：部门 -->
         </if>
                                                                                                         <if test="delFlag != null and delFlag != ''">
                    AND del_flag like '%${delFlag}%'  <!-- 0-删除，1-正常 -->
         </if>
                                                                                                         <if test="createBy != null and createBy != ''">
                    AND create_by like '%${createBy}%'  <!-- 创建人 -->
         </if>
                                                 <if test="updateBy != null and updateBy != ''">
                    AND update_by like '%${updateBy}%'  <!-- 修改人 -->
         </if>
                                                 <if test="remark != null and remark != ''">
                    AND remark like '%${remark}%'  <!-- 备注 -->
         </if>
                                                 <if test="adminRemark != null and adminRemark != ''">
                    AND admin_remark like '%${adminRemark}%'  <!-- 工程师备注 -->
         </if>
                        </sql>
</mapper>
